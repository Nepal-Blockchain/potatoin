<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Potatoin Foundation</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="potatoin.css" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.2/moment.min.js"></script>
    <script src="blockies.min.js"></script>
</head>

<body>
    <div class="site-wrapper">
        <div class="site-wrapper-inner">
            <div class="cover-container">
                <header class="masthead clearfix">
                    <div class="inner">
                        <h3 class="masthead-brand">Potatoin</h3>
                        <nav class="nav nav-masthead">
                            <a class="nav-link active" href="#">Home</a>
                            <a class="nav-link" href="https://etherscan.io/token/0x43f6a1be992dee408721748490772b15143ce0a7" target="_blank">Contract</a>
                            <a class="nav-link" href="https://github.com/karalabe/potatoin" target="_blank">Sources</a>
                            <a class="nav-link" href="#" data-toggle="modal" data-target="#relief">Login</a>
                        </nav>
                    </div>
                </header>

                <main role="main" class="inner cover" style="text-shadow: 1px 0 0 #000, 0 -1px 0 #000, 0 1px 0 #000, -1px 0 0 #000;">
                    <h1 class="cover-heading">Potatoes against humanity</h1>
                    <p class="lead">Potatoin (or potato coin) is the first of its kind, virtualized vegetable crypto-asset resistant to the inevitable crash of the world economy!</p>
                    <p class="lead">
                        <a href="#" class="btn btn-lg btn-secondary" data-toggle="modal" data-target="#wtf" style="margin-bottom: 8px;">Witness the chaos</a>
                        <a href="#" class="btn btn-lg btn-secondary" data-toggle="modal" data-target="#foundation" style="margin-bottom: 8px;">The Great Relief</a>
                    </p>
                </main>

                <footer class="mastfoot">
                    <p>
                      <a href="https://twitter.com/peter_szilagyi" target="_blank" style="color: #fff; text-shadow: 1px 0 0 #000, 0 -1px 0 #000, 0 1px 0 #000, -1px 0 0 #000;">Â© 2017 PÃ©ter SzilÃ¡gyi @peter_szilagyi</a><br/>
                      <a href="http://www.pxleyes.com/photography-picture/4e8206cde983c/Potato-Field.html" target="_blank" style="color: #fff; text-shadow: 1px 0 0 #000, 0 -1px 0 #000, 0 1px 0 #000, -1px 0 0 #000;">Cover photo by jeaniblog</a>
                    </p>
                </footer>
            </div>
        </div>
    </div>

    <!-- WTF is this -->
    <div class="modal fade" id="wtf" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <p>Scientists from around the Internet are <a href="https://twitter.com/guitarlife2012/status/932374776366161922" target="_blank">already warning</a> of the coming financial apocalypse.</p>
                    <img src="./crash.png" style="margin-bottom: 16px; width: 100%; border:solid 1px rgba(0,0,0,.3); -webkit-border-radius:9px; -moz-border-radius:9px; border-radius:9px; overflow: hidden;"></img>
                    <p>We're witnessing not just the crash of our financial institutions and housing market... but an <a href="https://twitter.com/avsa/status/932782707867779072" target="_blank">entire potatocalypse</a>. ðŸ˜±</p>
                    <img src="./fear.png" style="margin-bottom: 16px; width: 100%; border:solid 1px rgba(0,0,0,.3); -webkit-border-radius:9px; -moz-border-radius:9px; border-radius:9px; overflow: hidden;"></img>
                    <p>The general population is already being engulfed with feelings of <a href="https://twitter.com/peter_szilagyi/status/932876547232555009" target="_blank">fear, uncertainty and doubt</a>.</p>
                    <img src="./chaos.png" style="width: 100%; border:solid 1px rgba(0,0,0,.3); -webkit-border-radius:9px; -moz-border-radius:9px; border-radius:9px; overflow: hidden;"></img>
                </div>
            </div>
        </div>
    </div>

    <!-- Potatoin foundation -->
    <div class="modal fade" id="foundation" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <p>As humanity's final bastions are crumbling under the <a href="https://coinmarketcap.com/" target="_blank">relentless siege</a> of cryptocurrencies, the Potatoin Foundation was formed to offer a sliver of hope through the <strong>Great Potatoin Relief</strong>.</p>
                    <p>We are firm believers in the <strong>Universal Access to Potatoes</strong> and on the brink of the potatoes' financial extinction, we are pushing towards a digital strain, resistant to the pervasion of crypto.</p>
                    <p>The Potatoin Foundation created the worlds first vegetable crypto-asset on top of Ethereum, and to upkeep our raison d'etre, we are <strong>giving it all away for free</strong> in the Great Potatoin Relief.</p>
                    <p><strong><em>We've created the crypto-strain, it's up to you to keep it alive!</em></strong></p>
                    <a href="#" class="btn btn-lg btn-success" data-dismiss="modal" data-toggle="modal" data-target="#relief" style="width: 100%">Join the Great Potatoin Relief</a>
                </div>
            </div>
        </div>
    </div>

    <!-- The Great Potatoin Relief -->
    <div class="modal fade" id="relief" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" style="height: auto; min-height: 100%;">
                <div class="modal-body">
                    <!-- Metamask missing error message -->
                    <div id="metamask" style="display: none;">
                        <table style="margin-left: auto; margin-right: auto;">
                            <tr>
                                <td>
                                    <img src="https://cdn.worldvectorlogo.com/logos/metamask.svg" style="width: 256px;"></img>
                                </td>
                                <td valign="bottom">
                                    <div style="padding: 16px; border:solid 1px rgba(0,0,0,.3); -webkit-border-radius:9px; -moz-border-radius:9px; border-radius:9px; overflow: hidden; text-align: center">
                                        Potatoin requires the Metamask plugin.<br/> You can <a href="https://metamask.io/" target="_blank">download it here</a> and come back.
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <!-- Wrong Ethereum network error message -->
                    <div id="mainnet" style="display: none;">
                        <table style="margin-left: auto; margin-right: auto;">
                            <tr>
                                <td valign="bottom">
                                    <div style="padding: 16px; border:solid 1px rgba(0,0,0,.3); -webkit-border-radius:9px; -moz-border-radius:9px; border-radius:9px; overflow: hidden; text-align: center">
                                        Potatoin operates on the Ethereum main network.<br/> Please switch networks in your Metamask plugin.
                                    </div>
                                </td>
                                <td>
                                    <img src="https://cdn.worldvectorlogo.com/logos/metamask.svg" style="width: 256px; transform: scale(-1, 1);"></img>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <!-- Metamask account locked -->
                    <div id="locked" style="display: none;">
                        <table style="margin-left: auto; margin-right: auto;">
                            <tr>
                                <td>
                                    <img src="https://cdn.worldvectorlogo.com/logos/metamask.svg" style="width: 256px;"></img>
                                </td>
                                <td valign="bottom">
                                    <div style="padding: 16px; border:solid 1px rgba(0,0,0,.3); -webkit-border-radius:9px; -moz-border-radius:9px; border-radius:9px; overflow: hidden; text-align: center">
                                        Potatoin requires an active Metamask account.<br/> Please create new or unlock an existing one.
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <!-- Everything works, potato! -->
                    <div id="potatoin" style="display: none;">
                        <nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="margin-bottom: 16px;">
                            <div id="avatar" style="width: 32px; height: 32px; background-size: cover; background-repeat: no-repeat; border-radius: 50%; box-shadow: inset rgba(255, 255, 255, 0.6) 0 2px 2px, inset rgba(0, 0, 0, 0.3) 0 -2px 6px;"></div>
                            <pre class="navbar-brand" id="address" style="margin: 4px 0 0 12px; font-size: 16px;"></pre>
                            <ul class="navbar-nav mr-auto"></ul>
                            <div data-toggle="tooltip" data-placement="bottom" title="Potatoins in storage">
                                <i class="navbar-brand fa fa-archive" aria-hidden="true"></i>
                                <span class="navbar-brand" id="cellar" style="font-size: 16px;">?</span>
                            </div>
                            <div data-toggle="tooltip" data-placement="bottom" title="Potatoins now growing">
                                <i class="navbar-brand fa fa-leaf" aria-hidden="true"></i>
                                <span class="navbar-brand" id="field" style="font-size: 16px;">?</span>
                            </div>
                            <div data-toggle="tooltip" data-placement="bottom" title="Potatoins thrown away">
                                <i class="navbar-brand fa fa-trash" aria-hidden="true"></i>
                                <span class="navbar-brand" id="trash" style="font-size: 16px;">?</span>
                            </div>
                        </nav>

                        <div class="row" id="startup" style="display: none;">
                            <div class="col-lg-12">
                                <h3 id="buttons">The Great Potatoin Relief</h3>
                                <p>The great potatoin relief started <strong id="genesis"></strong>, and will last for <strong id="warmup"></strong>. <span id="request" style="display: none">As you aren't yet part of the relief, you <a href="#" onclick="request()">may request 1 potatoin</a> from the Foundation.</span><span id="requested" style="display: none">As you have already been granted a potatoin from the Foundation, we cannot offer you more.</span></p>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-12">
                                <h3 id="buttons">Potatoin fields</h3>
                                <p>Potatoins kept in storage will rot away in <strong id="decay"></strong>. Unless you are expecting active transactions, we suggest sowing the excess potatoins. This will both prevent them from rotting, as well as double them in <strong id="growth"></strong>.</p>
                                <div id="table" style="display: none">
                                    <p>Your current potatoin fields are:</p>
                                    <table class="table table-striped table-dark" id="fields">
                                        <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Sowed</th>
                                                <th scope="col">Potatoins</th>
                                                <th scope="col">Ready</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-bottom: 16px;">
                            <div class="col-lg-8"><input type="text" class="form-control" id="sow" placeholder="Potatoins to sow"></div>
                            <div class="col-lg-4"><a href="#" class="btn btn-success" style="width: 100%" onclick="sow()">Sow Potatoins</a></div>
                        </div>

                        <div class="row" id="transfer" style="display: none; margin-bottom: 16px;">
                            <div class="col-sm-6"><input type="text" class="form-control" id="recipient" placeholder="Recipient"></div>
                            <div class="col-sm-2"><input type="text" class="form-control" id="amount" placeholder="Amount"></div>
                            <div class="col-sm-4"><a href="#" class="btn btn-danger" style="width: 100%" onclick="transfer()">Transfer Potatoins</a></div>
                        </div>

                        <div class="row" id="txs" style="display: none;">
                            <div class="col-lg-12">
                                <h3>Pending transactions</h3>
                                <ul id="transactions">
                                </ul>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
</body>

<script>
    // Define the contract to interface the Potatoin Foundation through
    var potatoin, genesis, relief, growth, decay;

    // Create a method to request and sow potatoins
    var transactions = [];
    var track = function(hash) {
        transactions.push(hash);
        $('#transactions').append("<li id='" + hash + "'><code><a href='https://etherscan.io/tx/" + hash + "' target='_blank'>" + hash + "<a></code></li>");
        $('#txs').show();
    };
    var request = function() {
        potatoin.request(function(error, hash) {
            if (!error) {
                track(hash);
            }
        });
    }
    var sow = function() {
        potatoin.sow(document.getElementById('sow').value, function(error, hash) {
            if (!error) {
                track(hash);
            }
        });
    }
    var transfer = function() {
        potatoin.transfer(document.getElementById('recipient').value, document.getElementById('amount').value, function(error, hash) {
            if (!error) {
                track(hash);
            }
        });
    }

    window.addEventListener('load', function() {
        // Enable all tooltips on the UI
        $(function() {
            $('[data-toggle="tooltip"]').tooltip()
        });

        if (typeof web3 !== 'undefined') {
            // Make sure we have Metamask and are on the correct network
            window.web3 = new Web3(web3.currentProvider);
            web3.eth.getBlock(0, function(error, result) {
                if (!error) {
                    if (result.hash != '0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3') {
                        $('#mainnet').toggle();
                    } else if (web3.eth.accounts.length == 0) {
                        $('#locked').toggle();
                    } else {
                        // Everything is operational, bind to the potatoin contract
                        var contract = web3.eth.contract([{
                            "constant": true,
                            "inputs": [],
                            "name": "name",
                            "outputs": [{
                                "name": "",
                                "type": "string"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": false,
                            "inputs": [{
                                "name": "_spender",
                                "type": "address"
                            }, {
                                "name": "_value",
                                "type": "uint256"
                            }],
                            "name": "approve",
                            "outputs": [{
                                "name": "success",
                                "type": "bool"
                            }],
                            "payable": false,
                            "stateMutability": "nonpayable",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [],
                            "name": "totalSupply",
                            "outputs": [{
                                "name": "totalSupply",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": false,
                            "inputs": [{
                                "name": "_from",
                                "type": "address"
                            }, {
                                "name": "_to",
                                "type": "address"
                            }, {
                                "name": "_value",
                                "type": "uint256"
                            }],
                            "name": "transferFrom",
                            "outputs": [{
                                "name": "success",
                                "type": "bool"
                            }],
                            "payable": false,
                            "stateMutability": "nonpayable",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [],
                            "name": "decimals",
                            "outputs": [{
                                "name": "",
                                "type": "uint8"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": false,
                            "inputs": [],
                            "name": "request",
                            "outputs": [],
                            "payable": false,
                            "stateMutability": "nonpayable",
                            "type": "function"
                        }, {
                            "constant": false,
                            "inputs": [{
                                "name": "potatoes",
                                "type": "uint256"
                            }],
                            "name": "sow",
                            "outputs": [],
                            "payable": false,
                            "stateMutability": "nonpayable",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [],
                            "name": "decay",
                            "outputs": [{
                                "name": "",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [{
                                "name": "farmer",
                                "type": "address"
                            }],
                            "name": "unsowed",
                            "outputs": [{
                                "name": "balance",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [{
                                "name": "",
                                "type": "address"
                            }],
                            "name": "empties",
                            "outputs": [{
                                "name": "",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [{
                                "name": "farmer",
                                "type": "address"
                            }],
                            "name": "trashed",
                            "outputs": [{
                                "name": "balance",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [{
                                "name": "farmer",
                                "type": "address"
                            }],
                            "name": "balanceOf",
                            "outputs": [{
                                "name": "balance",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [],
                            "name": "symbol",
                            "outputs": [{
                                "name": "",
                                "type": "string"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [],
                            "name": "growth",
                            "outputs": [{
                                "name": "",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [],
                            "name": "genesis",
                            "outputs": [{
                                "name": "",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": false,
                            "inputs": [{
                                "name": "to",
                                "type": "address"
                            }, {
                                "name": "potatoes",
                                "type": "uint256"
                            }],
                            "name": "transfer",
                            "outputs": [{
                                "name": "success",
                                "type": "bool"
                            }],
                            "payable": false,
                            "stateMutability": "nonpayable",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [],
                            "name": "relief",
                            "outputs": [{
                                "name": "",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [{
                                "name": "farmer",
                                "type": "address"
                            }],
                            "name": "sowed",
                            "outputs": [{
                                "name": "balance",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [{
                                "name": "_owner",
                                "type": "address"
                            }, {
                                "name": "_spender",
                                "type": "address"
                            }],
                            "name": "allowance",
                            "outputs": [{
                                "name": "remaining",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [{
                                "name": "",
                                "type": "address"
                            }, {
                                "name": "",
                                "type": "uint256"
                            }],
                            "name": "fields",
                            "outputs": [{
                                "name": "potatoes",
                                "type": "uint256"
                            }, {
                                "name": "sowed",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "constant": true,
                            "inputs": [{
                                "name": "",
                                "type": "address"
                            }],
                            "name": "donated",
                            "outputs": [{
                                "name": "",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "view",
                            "type": "function"
                        }, {
                            "inputs": [{
                                "name": "_relief",
                                "type": "uint256"
                            }, {
                                "name": "_decay",
                                "type": "uint256"
                            }, {
                                "name": "_growth",
                                "type": "uint256"
                            }],
                            "payable": false,
                            "stateMutability": "nonpayable",
                            "type": "constructor"
                        }, {
                            "anonymous": false,
                            "inputs": [{
                                "indexed": true,
                                "name": "_from",
                                "type": "address"
                            }, {
                                "indexed": true,
                                "name": "_to",
                                "type": "address"
                            }, {
                                "indexed": false,
                                "name": "_value",
                                "type": "uint256"
                            }],
                            "name": "Transfer",
                            "type": "event"
                        }]);

                        potatoin = contract.at('0x43f6a1be992dee408721748490772b15143ce0a7')

                        // Construct the user interface for Potatoin
                        document.getElementById('avatar').style.backgroundImage = 'url(' + blockies.create({
                            seed: web3.eth.accounts[0],
                            size: 8,
                            scale: 8
                        }).toDataURL() + ')';
                        document.getElementById('address').textContent = web3.eth.accounts[0];

                        potatoin.genesis(function(error, result) {
                            genesis = parseInt(result);
                            document.getElementById('genesis').textContent = moment.unix(genesis).fromNow();
                        });
                        potatoin.relief(function(error, result) {
                            relief = parseInt(result);
                            document.getElementById('warmup').textContent = moment.duration(relief, 'seconds').humanize();
                        });
                        potatoin.growth(function(error, result) {
                            growth = parseInt(result);
                            document.getElementById('growth').textContent = moment.duration(growth, 'seconds').humanize();
                        });
                        potatoin.decay(function(error, result) {
                            decay = parseInt(result);
                            document.getElementById('decay').textContent = moment.duration(decay, 'seconds').humanize();
                        });

                        // Track the previous block, and update the stats if it changes
                        var prev = '';
                        var update = function() {
                            web3.eth.getBlock('latest', function(error, block) {
                                if (!error && prev != block.hash) {
                                    prev = block.hash;

                                    // Update the account stats on the navbar
                                    potatoin.unsowed(web3.eth.accounts[0], function(error, result) {
                                        document.getElementById('cellar').textContent = result;
                                        if (parseInt(result) > 0) {
                                            $('#transfer').show();
                                        } else {
                                            $('#transfer').hide();
                                        }
                                    });
                                    potatoin.sowed(web3.eth.accounts[0], function(error, result) {
                                        document.getElementById('field').textContent = result;
                                    });
                                    potatoin.trashed(web3.eth.accounts[0], function(error, result) {
                                        document.getElementById('trash').textContent = result;
                                    });
                                    // Update the great relief contents
                                    if (block.timestamp > genesis + relief) {
                                        $('#startup').hide();
                                    } else {
                                        potatoin.donated(web3.eth.accounts[0], function(error, result) {
                                            if (result > 0) {
                                                $('#request').hide();
                                                $('#requested').show();
                                            } else {
                                                $('#request').show();
                                                $('#requested').hide();
                                            }
                                            $('#startup').show();
                                        });
                                    }
                                    // Update the potatoin fields
                                    var content = "";
                                    var checkField = function(index) {
                                        potatoin.fields(web3.eth.accounts[0], index, function(error, field) {
                                            if (parseInt(field[1]) > 0) {
                                                if (parseInt(field[1]) + growth > block.timestamp) {
                                                    content += "<tr><td>" + (index + 1) + "</td><td>" + moment.unix(parseInt(field[1])).fromNow() + "</td><td>" + parseInt(field[0]) + "</td><td><div class='progress'><div class='progress-bar progress-bar-striped bg-success' role='progressbar' style='width: " + (block.timestamp - parseInt(field[1])) * 100 / growth + "%'  aria-valuenow='" + (block.timestamp - parseInt(field[1])) + "' aria-valuemin='0' aria-valuemax='" + growth + "'></div></div></td></tr>";
                                                }
                                                checkField(index + 1);
                                            } else {
                                                $('#fields tbody').html(content);
                                                if (content == "") {
                                                    $('#table').hide();
                                                } else {
                                                    $('#table').show();
                                                }
                                            }
                                        });
                                    }
                                    potatoin.empties(web3.eth.accounts[0], function(error, offset) {
                                        checkField(parseInt(offset));
                                    });
                                    // Update the pending transactions
                                    for (var i = 0; i < transactions.length; i++) {
                                        web3.eth.getTransactionReceipt(transactions[i], function(error, receipt) {
                                            if (!error && receipt != null) {
                                                transactions.splice(transactions.indexOf(receipt.transactionHash), 1);
                                                if (transactions.length == 0) {
                                                    $('#txs').hide();
                                                }
                                                $("#" + receipt.transactionHash).remove();
                                            }
                                        });
                                    }
                                }
                            });
                        };
                        setInterval(update, 3000);
                        setTimeout(update, 1000);

                        $('#potatoin').toggle();
                    }
                }
            });
        } else {
            $('#metamask').toggle();
        }
    })
</script>

</html>
